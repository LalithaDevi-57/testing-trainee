<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_account_payment_form_inherit" model="ir.ui.view">
        <field name="name">account.payment.form.inherit</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='state']" position="replace">
                <field name="state" widget="statusbar"
                       statusbar_visible="draft,approved_one,approved_two,posted,cancel"/>
            </xpath>
            <xpath expr="//header/button[@name='action_post']" position="attributes">
                <attribute name="invisible">(state in ['draft','approved_one','approved_two','posted','cancel'])
                </attribute>
            </xpath>
            <xpath expr="//header/button[@name='action_draft']" position="attributes">
                <attribute name="invisible">(state in ['draft','approved_one','approved_two','posted','cancel'])
                </attribute>
            </xpath>

            <xpath expr="//header/button[@name='action_post']" position="after">
                <button name="action_approve_one" type="object" class="btn-success"
                        invisible="state == 'approved_one'" string="Confirm"/>
            </xpath>
            <xpath expr="//header/button[@name='action_approve_one']" position="after">
                <button name="action_draft_nhcl" type="object" class="btn-warning"
                        invisible="state == 'Final'" string="Approved"/>
            </xpath>
            <xpath expr="//header/button[@name='action_draft_nhcl']" position="after">
                <button name="action_post_final" type="object" class="btn-secondary" string="Final"
                        invisible="state == 'draft'"/>
            </xpath>
            <xpath expr="//header/button[@name='action_cancel']" position="attributes">
                <attribute name="invisible">(state in ['draft'])</attribute>
            </xpath>
        </field>
    </record>
<!--    <record id="view_purchase_order_form_inherit_approve_button" model="ir.ui.view">-->
<!--        <field name="name">purchase.order.form.inherit.approve.button</field>-->
<!--        <field name="model">purchase.order</field>-->
<!--        <field name="inherit_id" ref="purchase.purchase_order_form"/>-->
<!--        <field name="arch" type="xml">-->

<!--            <xpath expr="//sheet" position="inside">-->
<!--                <field name="approved" invisible="1"/>-->
<!--            </xpath>-->
<!--           -->
<!--            <xpath expr="//button[@name='button_confirm']" position="attributes">-->
<!--                <attribute name="invisible">[('approved_button_visible','=',True)]</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//header" position="inside">-->
<!--                <button name="action_approve_po"-->
<!--                        string="Approve"-->
<!--                        type="object"-->
<!--                        class="btn-primary"-->
<!--                        invisible="[('approved_button_visible','=',False)]"/>-->
<!--            </xpath>-->

<!--            <xpath expr="//header/button[@name='button_confirm']" position="attributes">-->
<!--                <attribute name="invisible">(state in ['draft','purchase']or approved)</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//header/button[@id='draft_confirm']" position="attributes">-->
<!--                <attribute name="invisible">(state in['purchase'])</attribute>-->
<!--            </xpath>-->

<!--            <xpath expr="//header/field[@name='state']" position="replace">-->
<!--                <field name="state" widget="statusbar"-->
<!--                       statusbar_visible="draft,sent,approved,purchase"-->
<!--                       statusbar_status="draft"/>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->
</odoo>